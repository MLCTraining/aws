#!/bin/sh
#########################################################################
#      Copyright (C) 2020        Sebastian Francisco Colomar Bauza      #
#      SPDX-License-Identifier:  GPL-2.0-only                           #
#########################################################################
set -x                                                                  ;
#########################################################################
test -n "${kube}"               || exit 304                             ;
#########################################################################
file=/etc/hosts                                                         ;
pattern=127.0.0.1.*localhost                                            ;
#########################################################################
grep ${pattern}.*${kube} ${file}                                        \
||                                                                      \
sudo sed --in-place                                                     \
        /${kube}/d                                                      \
        ${file}                                                         \
&&                                                                      \
sudo sed --in-place                                                     \
        '/${pattern}/s/$/ ${kube}/'                                     \
        ${file}                                                         \
                                                                        ;
#########################################################################
